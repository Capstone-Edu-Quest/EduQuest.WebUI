<div class="stage" *ngIf="lesson" (click)="onExpand()">
  <i nz-icon nzType="{{ isDropDown ? 'down' : 'right' }}"></i>
  <div class="info">
    <div class="stage-name">
      <div>{{ "LABEL.STAGE_VALUE" | translate : { value: index + 1 } }} -</div>
      <input
        (click)="onPreventProp($event)"
        (input)="onChangeName($event)"
        [defaultValue]="lesson.name"
      />
    </div>
    <div class="time">
      <i nz-icon nzType="clock-circle"></i>
      {{ "LABEL.MINUTE" | translate : { value: lesson.totalTime } }}
    </div>
  </div>
  <fa-icon [icon]="XIcon" (click)="onRemoveStage()"></fa-icon>
</div>

<div class="stage-missions-ctn" *ngIf="isDropDown && lesson">
  <div class="mission" *ngFor="let material of lesson.materials; let i = index">
    <div style="display: flex; justify-content: space-between; width: 100%">
      <div class="mission-info">
        <fa-icon [icon]="onGetIcon(material.type)"></fa-icon>
        <div class="mission-name">{{ i + 1 }}.{{ material.title }}</div>
      </div>

      <div class="right-ctn">
        <div class="mission-time">
          <i nz-icon nzType="clock-circle"></i>
          {{ "LABEL.MINUTES" | translate : { value: material.duration } }}

          <fa-icon
            (click)="onRemoveMaterial(material.id)"
            [icon]="XIcon"
          ></fa-icon>
        </div>
      </div>
    </div>
  </div>
  <div class="mission add">
    <div style="display: flex; align-items: center; gap: 8px">
      <fa-icon [icon]="PlusIcon"></fa-icon>
      <div class="mission-name">{{ "LABEL.ADD_MATERIAL" | translate }}</div>
    </div>
  </div>
</div>
