import { Injectable } from '@angular/core';
import { HttpService } from './http.service';
import { Store } from '@ngrx/store';
import { setExchangeRates } from '../state/currency/currency.action';
import { BehaviorSubject } from 'rxjs';

@Injectable({
  providedIn: 'root',
})
export class PriceService {
  public exchangeRate = {
    AED: 3.6730403240778204,
    AFN: 75.579425247414,
    ALL: 93.68421929519738,
    AMD: 400.5519167146658,
    ANG: 1.7988661084480158,
    AOA: 913.5035811360813,
    ARS: 1045.0561319160483,
    AUD: 1.5835304870211784,
    AWG: 1.8024991312543734,
    AZN: 1.7039695724819468,
    BAM: 1.861690936007959,
    BBD: 2.0153241968268176,
    BDT: 121.72666168427166,
    BGN: 1.865049768413837,
    BHD: 0.37656433715898757,
    BIF: 2953.7848205147734,
    BMD: 1,
    BND: 1.3456750748549315,
    BOB: 6.897336640120339,
    BRL: 5.91318827264808,
    BSD: 0.9981435024967512,
    BTC: 0.000009597558943795727,
    BTN: 86.05012638463772,
    BWP: 13.758501092477376,
    BYN: 3.2664778434163364,
    BYR: 19599.991427741785,
    BZD: 2.0049487559086603,
    CAD: 1.4487801859353655,
    CDF: 2844.9991174496486,
    CHF: 0.9055223660346642,
    CLF: 0.03551432121215006,
    CLP: 979.943410147901,
    CNY: 7.244100860177177,
    CNH: 7.244292222227511,
    COP: 4222.643434425176,
    CRC: 503.6407296511212,
    CUC: 1,
    CUP: 26.499988099374978,
    CVE: 104.95926082837872,
    CZK: 23.909393401341436,
    DJF: 177.7449134348536,
    DKK: 7.110901448544078,
    DOP: 61.47253478552694,
    DZD: 134.21535180627689,
    EGP: 50.24413608602724,
    ERN: 14.99999333564999,
    ETB: 128.43790491876632,
    EUR: 0.9520500016660876,
    FJD: 2.3047493014333114,
    FKP: 0.8235870387912774,
    GBP: 0.8009482418016595,
    GEL: 2.870388864823181,
    GGP: 0.8235870387912774,
    GHS: 15.17204590785108,
    GIP: 0.8235870387912774,
    GMD: 72.50381914858168,
    GNF: 8630.713468175349,
    GTQ: 7.715002879951255,
    GYD: 208.82385837304176,
    HKD: 7.786887415327053,
    HNL: 25.41619913077835,
    HRK: 7.379545205714204,
    HTG: 130.38878675508036,
    HUF: 388.7902176862329,
    IDR: 16170.442927934575,
    ILS: 3.59194851313591,
    IMP: 0.8235870387912774,
    INR: 86.21046588566833,
    IQD: 1307.6002084989505,
    IRR: 42099.98193865942,
    ISK: 139.43032469665306,
    JEP: 0.8235870387912774,
    JMD: 157.0224436267393,
    JOD: 0.7095038391416317,
    JPY: 155.99843578184726,
    KES: 129.1132653886982,
    KGS: 87.4503463081881,
    KHR: 4016.9417488206477,
    KMF: 468.3035887524813,
    KPW: 899.9997172411496,
    KRW: 1429.529757750877,
    KWD: 0.30807005183912256,
    KYD: 0.8318498807557373,
    KZT: 516.9670771588924,
    LAK: 21751.454005988395,
    LBP: 89383.71227430465,
    LKR: 297.7010743884269,
    LRD: 197.62972680925202,
    LSL: 18.332484422081848,
    LTL: 2.9527392858672936,
    LVL: 0.6048897288085571,
    LYD: 4.910758641043828,
    MAD: 9.967726456993521,
    MDL: 18.565505324339636,
    MGA: 4664.221462063188,
    MKD: 58.5740547333546,
    MMK: 3247.9595721487294,
    MNT: 3397.9986214315977,
    MOP: 8.008658894765153,
    MRU: 39.91621674370338,
    MUR: 46.35035820881313,
    MVR: 15.410371632718151,
    MWK: 1730.806914739162,
    MXN: 20.27059545967354,
    MYR: 4.3775021064106285,
    MZN: 63.91034925954311,
    NAD: 18.332484422081848,
    NGN: 1557.9996620222496,
    NIO: 36.73312324763297,
    NOK: 11.20371965935651,
    NPR: 137.68020259624035,
    NZD: 1.7510522532643416,
    OMR: 0.38459868712304773,
    PAB: 0.9981435024967512,
    PEN: 3.7068190581369334,
    PGK: 4.0064710838613244,
    PHP: 58.25034916433811,
    PKR: 278.18254416321946,
    PLN: 4.014720597125761,
    PYG: 7897.764381905337,
    QAR: 3.6390445226183283,
    RON: 4.740601600396053,
    RSD: 111.48441160929772,
    RUB: 97.80586843621026,
    RWF: 1391.8417597692232,
    SAR: 3.750873267864028,
    SBD: 8.439415822118978,
    SCR: 14.32582292822019,
    SDG: 601.0000761640001,
    SEK: 10.930025276927545,
    SGD: 1.3461034973556811,
    SHP: 0.8235870387912774,
    SLE: 22.703656348031398,
    SLL: 20969.49074940616,
    SOS: 570.46284101241,
    SRD: 35.10502253978379,
    STD: 20697.9719554631,
    SVC: 8.733516444283653,
    SYP: 13001.99429817254,
    SZL: 18.337053310039842,
    THB: 33.58902286348079,
    TJS: 10.879724667139518,
    TMT: 3.5099989051424982,
    TND: 3.1767157131092527,
    TOP: 2.34210298324868,
    TRY: 35.66148814935761,
    TTD: 6.787869930928773,
    TWD: 32.74828940415951,
    TZS: 2542.2862614424507,
    UAH: 41.83530582226179,
    UGX: 3681.8793095733386,
    USD: 1,
    UYU: 43.39629747754352,
    UZS: 12944.642379553774,
    VES: 56.58042585196574,
    VND: 25079.989030479883,
    VUV: 118.72195570111342,
    WST: 2.8008254273514446,
    XAF: 624.3936155526887,
    XAG: 0.03269244500721178,
    XAU: 0.00036082695063144717,
    XCD: 2.702549113879461,
    XDR: 0.7690250531957938,
    XOF: 624.3936155526887,
    XPF: 113.60978516991713,
    YER: 249.0502539593379,
    ZAR: 18.39665735244415,
    ZMK: 9001.1996496456,
    ZMW: 27.72356085741623,
    ZWL: 321.999451619199,
  };// Base USD

  constructor() {}

  convertToUSDRates = (rates: any) => {
    const usdRate = rates['USD']; // Rate for USD base
    const convertedRates: any = {};

    for (const [currency, rate] of Object.entries(rates)) {
      convertedRates[currency] = (rate as number) / usdRate;
    }

    return convertedRates;
  };
}
